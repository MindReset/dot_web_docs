---
title: Quote0 API サーバーレスマイクロサービス
new: true
---

<GithubInfo owner="matchy-in" repo="quote0_api" />

AWS Lambda と DynamoDB をベースにしたサーバーレスマイクロサービスです。Quote/0 リマインダーデバイスに予定イベントを表示し、ゴミ収集スケジュールの自動プッシュを統合しています。

### 機能

- **定時プッシュ** — 毎日 01:10、07:10、12:10、17:10 に自動更新
- **ゴミ収集統合** — Reading Council API 連携と 12 時間スマートキャッシュ
- **イベント管理** — DynamoDB によるカスタムイベント管理
- **Quote/0 対応** — 25/29 文字制限に準拠した表示フォーマット
- **サーバーレス** — AWS Lambda + DynamoDB、従量課金制
- **自動スケーリング** — トラフィックの急増に自動対応
- **低コスト** — 一般的な利用で月額約 $1.18

### アーキテクチャ

EventBridge Cron が Lambda をトリガーし、API Gateway を通じて以下のエンドポイントを提供：

- `GET /api/display` — Quote/0 デバイス向けフォーマット済み表示データを返す
- `PUT /api/events` — DynamoDB に新しいイベントを作成

Quote/0 デバイスは 1 時間ごとにデータをプル、iPhone App からイベントを書き込むことも可能です。

### 技術スタック

| コンポーネント   | 技術                         |
| ---------------- | ---------------------------- |
| ランタイム       | AWS Lambda (Node.js 18)      |
| データベース     | Amazon DynamoDB              |
| スケジューリング | AWS EventBridge              |
| API              | API Gateway HTTP API         |
| 外部 API         | Reading Council ゴミ収集 API |

### 定時プッシュ時刻

| 時刻 (UTC) | 説明               |
| ---------- | ------------------ |
| 01:10      | 深夜リフレッシュ   |
| 07:10      | 出勤前の朝の更新   |
| 12:10      | 昼間のリフレッシュ |
| 17:10      | 退勤後の夕方の更新 |

タイムゾーンに合わせて `serverless.yml` で調整できます。
