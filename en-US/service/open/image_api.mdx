---
title: Control Image Content
---

import Link from 'fumadocs-core/link';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { ApiPlayground } from 'src/shadcn/components/api-playground';
import { TypeTable } from 'src/shadcn/components/type-table';

<Callout type="warning" title="API Migration Notice">
	The legacy endpoint `https://dot.mindreset.tech/api/open/image` will be retired soon.
	To reduce migration effort, requests sent to the legacy endpoint will be automatically forwarded
	to the new API, but this compatibility behavior may be removed in the future.

    We strongly recommend completing the following updates as soon as possible:
    - Update the request URL to the new endpoint: `/api/authV2/open/device/:deviceId/image`
    - Send parameters according to this document (e.g. `refreshNow` / `image` / `link` / `border` / `ditherType` / `ditherKernel` / `taskKey`)
    - If you rely on legacy response payloads or error codes, adapt your integration to the new API responses

</Callout>

## Quick Guide

### Prerequisites

1. Make sure you have <Link href="/docs/service/studio/api/get_api">retrieved and saved your API key</Link> in the Dot. App;
2. Make sure you own at least one device and have <Link href="/docs/service/studio/api/get_device_id">obtained its device serial number</Link>;
3. Make sure your device is connected to power;
4. Make sure your device is connected to the network;
5. Make sure the device has added the Image API content.

<Callout
	type="info"
	title="The API rate limit is 10 requests per second. With the API, you can control device behavior and responses more flexibly."
/>

<Callout
	type="info"
	title="Placeholders wrapped in ‘{{variable}}’ indicate values you must replace. Fill them with your actual values and remove the ‘{{}}’ braces."
/>

### Request Examples

<ApiPlayground
	baseUrl="https://dot.mindreset.tech"
	endpoint="/api/authV2/open/device/:deviceId/image"
	method="POST"
	pathParams={{
		deviceId: {
			type: 'string',
			required: true,
			name: 'Device serial number',
		},
	}}
	bodyParams={{
		refreshNow: {
			type: 'boolean',
			name: 'Show immediately',
			default: true,
		},
		taskKey: {
			type: 'string',
			name: 'Task identifier',
			description:
				"Retrieve it via the 'List Device Tasks' API (used to target a specific Image API content when multiple exist).",
		},
		image: {
			type: 'string',
			required: true,
			name: 'Base64-encoded PNG image data',
		},
		link: {
			type: 'string',
			name: 'NFC tap redirect link',
		},
		border: {
			type: 'select',
			name: 'Border color',
			default: 0,
			options: [
				{ value: 0, label: 'White' },
				{ value: 1, label: 'Black' },
			],
		},
		ditherType: {
			type: 'select',
			name: 'Dither type',
			default: 'DIFFUSION',
			options: [
				{ value: 'DIFFUSION', label: 'Diffusion' },
				{ value: 'ORDERED', label: 'Ordered' },
				{ value: 'NONE', label: 'None' },
			],
		},
		ditherKernel: {
			type: 'select',
			name: 'Dither algorithm',
			default: 'FLOYD_STEINBERG',
			options: [
				{ value: 'THRESHOLD' },
				{ value: 'ATKINSON' },
				{ value: 'BURKES' },
				{ value: 'FLOYD_STEINBERG' },
				{ value: 'SIERRA2' },
				{ value: 'STUCKI' },
				{ value: 'JARVIS_JUDICE_NINKE' },
				{ value: 'DIFFUSION_ROW' },
				{ value: 'DIFFUSION_COLUMN' },
				{ value: 'DIFFUSION_2D' },
			],
		},
	}}
	auth={true}
	defaultOpen={false}
/>

### Response Example

```json
{
	"code": 200,
	"message": "Device Image API content switched",
	"result": {
		"message": "Device ABCD1234ABCD Image API content switched"
	}
}
```

## Reference Usage

1. Simple image without immediate display

<CustomCloudImage osSrc="dot/docs/%E9%98%B4%E5%BD%B1_1754129505817.png" alt="Actual effect" />

<Tabs items={['cURL']}>
  <Tab value="cURL">
    ```bash
    curl -X POST \
		  https://dot.mindreset.tech/api/authV2/open/device/{{deviceId}}/image \
      -H 'Authorization: Bearer dot_app_UlSpzXNEXhYZIAFakHLCkMVVBLbsBIWxaRMVaJZGUOYKhDoDRZwLLvLujAIwQxbY' \
      -H 'Content-Type: application/json' \
      -d '{
        "refreshNow": false,
        "image": "{{base64-encoded PNG image data}}",
        "link": "https://dot.mindreset.tech",
        "border": 0
      }'
    ```
  </Tab>
</Tabs>

2. Complex image

<CustomCloudImage osSrc="dot/docs/%E9%98%B4%E5%BD%B14_1754130316522.png" alt="Actual effect" />

<Tabs items={['cURL']}>
  <Tab value="cURL">
    ```bash
    curl -X POST \
		  https://dot.mindreset.tech/api/authV2/open/device/{{deviceId}}/image \
      -H 'Authorization: Bearer dot_app_UlSpzXNEXhYZIAFakHLCkMVVBLbsBIWxaRMVaJZGUOYKhDoDRZwLLvLujAIwQxbY' \
      -H 'Content-Type: application/json' \
      -d '{
        "image": "{{base64-encoded PNG image data}}",
        "link": "https://dot.mindreset.tech",
        "border": 1
      }'
    ```
  </Tab>
</Tabs>

3. Text image

Use common image tools (e.g., Figma, Sketch, Adobe Photoshop) to convert text to PNG, then convert it to base64 data.

<CustomCloudImage osSrc="dot/docs/%E9%98%B4%E5%BD%B13_1754130631116.png" alt="Actual effect" />

<Tabs items={['cURL']}>
  <Tab value="cURL">
    ```bash
    curl -X POST \
		  https://dot.mindreset.tech/api/authV2/open/device/{{deviceId}}/image \
      -H 'Authorization: Bearer dot_app_UlSpzXNEXhYZIAFakHLCkMVVBLbsBIWxaRMVaJZGUOYKhDoDRZwLLvLujAIwQxbY' \
      -H 'Content-Type: application/json' \
      -d '{
        "image": "{{base64-encoded PNG image data}}",
        "link": "https://dot.mindreset.tech",
        "border": 0,
        "ditherType": "NONE"
      }'
    ```
  </Tab>
</Tabs>

## Image Dithering

Image dithering uses specific algorithms to reduce visual noise caused by color quantization, making images appear smoother. Common algorithms include Floyd–Steinberg, Atkinson, and Sierra. On e‑ink displays, dithering can further optimize black-and-white rendering so gray-level transitions look more natural.

When using the Image API, if you do not pass the `ditherType` parameter, the default is the error-diffusion Floyd–Steinberg algorithm. You can also disable it or adjust the dithering type and algorithm via parameters.

### Enable Dithering

#### Error Diffusion (default)

Error diffusion distributes each pixel’s quantization error to neighboring pixels to reduce visual noise. It handles high-contrast areas effectively, yielding rich details and smooth gray transitions. Visually, it tends to look natural with no obvious grid and smooth gradients.

<CustomCloudImage osSrc="dot/docs/%E9%98%B4%E5%BD%B1-1_1755604439407.png" alt="Actual effect" />

<Tabs items={['cURL']}>
  <Tab value="cURL">
    ```bash
    curl -X POST \
		  https://dot.mindreset.tech/api/authV2/open/device/{{deviceId}}/image \
      -H 'Authorization: Bearer dot_app_UlSpzXNEXhYZIAFakHLCkMVVBLbsBIWxaRMVaJZGUOYKhDoDRZwLLvLujAIwQxbY' \
      -H 'Content-Type: application/json' \
      -d '{
        "image": "{{base64-encoded PNG image data}}",
        "link": "https://dot.mindreset.tech",
        "border": 0,
        "ditherType": "DIFFUSION"
      }'
    ```
  </Tab>
</Tabs>

##### Supported Error-Diffusion Kernels

Different error-diffusion kernels produce different visual results. Pass the algorithm via `"ditherKernel": "{{dither algorithm}}"`.

<div className="flex flex-col md:flex-row gap-4">

<CustomCloudImage
	osSrc="dot/docs/layer_1755606583517.png"
	alt="FLOYD_STEINBERG"
	caption="FLOYD_STEINBERG"
/>

<CustomCloudImage osSrc="dot/docs/layer-1_1755606614917.png" alt="ATKINSON" caption="ATKINSON" />
<CustomCloudImage osSrc="dot/docs/layer-2_1755606637222.png" alt="BURKES" caption="BURKES" />

</div>

<div className="flex flex-col md:flex-row gap-4">

<CustomCloudImage osSrc="dot/docs/layer-3_1755606653679.png" alt="SIERRA2" caption="SIERRA2" />

<CustomCloudImage osSrc="dot/docs/layer-4_1755606678514.png" alt="STUCKI" caption="STUCKI" />
<CustomCloudImage
	osSrc="dot/docs/layer-5_1755606710423.png"
	alt="JARVIS_JUDICE_NINKE"
	caption="JARVIS_JUDICE_NINKE"
/>

</div>

<div className="flex flex-col md:flex-row gap-4">

<CustomCloudImage
	osSrc="dot/docs/layer-6_1755606726561.png"
	alt="DIFFUSION_ROW"
	caption="DIFFUSION_ROW"
/>

<CustomCloudImage
	osSrc="dot/docs/layer-7_1755606742614.png"
	alt="DIFFUSION_COLUMN"
	caption="DIFFUSION_COLUMN"
/>
<CustomCloudImage
	osSrc="dot/docs/layer-8_1755606760506.png"
	alt="DIFFUSION_2D"
	caption="DIFFUSION_2D"
/>

</div>

#### Ordered Dithering

Ordered dithering applies a fixed, periodic threshold matrix to image pixels, unlike error diffusion which propagates the error dynamically. It helps reduce large color patches and banding, creating a visually uniform dot pattern. Due to periodicity, ordered dithered images often show a noticeable regular grid.

<CustomCloudImage osSrc="dot/docs/%E9%98%B4%E5%BD%B1-2_1755604633182.png" alt="Actual effect" />

<Tabs items={['cURL']}>
  <Tab value="cURL">
    ```bash
    curl -X POST \
		  https://dot.mindreset.tech/api/authV2/open/device/{{deviceId}}/image \
      -H 'Authorization: Bearer dot_app_UlSpzXNEXhYZIAFakHLCkMVVBLbsBIWxaRMVaJZGUOYKhDoDRZwLLvLujAIwQxbY' \
      -H 'Content-Type: application/json' \
      -d '{
        "image": "{{base64-encoded PNG image data}}",
        "link": "https://dot.mindreset.tech",
        "border": 0,
        "ditherType": "ORDERED"
      }'
    ```
  </Tab>
</Tabs>

### Disable Dithering

If you primarily display text images via the Image API, we recommend disabling dithering to achieve sharper text.

<CustomCloudImage osSrc="dot/docs/%E9%98%B4%E5%BD%B1_1755604287570.png" alt="Actual effect" />

<Tabs items={['cURL']}>
  <Tab value="cURL">
    ```bash
    curl -X POST \
		  https://dot.mindreset.tech/api/authV2/open/device/{{deviceId}}/image \
      -H 'Authorization: Bearer dot_app_UlSpzXNEXhYZIAFakHLCkMVVBLbsBIWxaRMVaJZGUOYKhDoDRZwLLvLujAIwQxbY' \
      -H 'Content-Type: application/json' \
      -d '{
        "image": "{{base64-encoded PNG image data}}",
        "link": "https://dot.mindreset.tech",
        "border": 0,
        "ditherType": "NONE"
      }'
    ```
  </Tab>
</Tabs>

## Troubleshooting

### Endpoint

`/api/authV2/open/device/:deviceId/image`

### Method

`POST`

### Request Schema

<TypeTable
	type={{
		refreshNow: {
			description: 'Whether to display the content immediately (Control display timing)',
			type: 'bool',
			default: 'true',
		},
		image: {
			description: 'Base64-encoded PNG image data (296px×152px) (Image to render on screen)',
			type: 'string',
			required: true,
		},
		link: {
			description: 'http/https link or URL scheme (NFC tap redirect target)',
			type: 'string',
		},
		border: {
			description: '0 = white border, 1 = black border (Screen border color)',
			type: 'number',
			default: '0',
		},
		ditherType: {
			description: 'Dither type (DIFFUSION, ORDERED, NONE) (Control dithering behavior)',
			type: 'string',
			default: 'DIFFUSION',
		},
		ditherKernel: {
			description:
				'Dither algorithm (THRESHOLD, ATKINSON, BURKES, FLOYD_STEINBERG, SIERRA2, STUCKI, JARVIS_JUDICE_NINKE, DIFFUSION_ROW, DIFFUSION_COLUMN, DIFFUSION_2D) (Control dither algorithm)',
			type: 'string',
			default: 'FLOYD_STEINBERG',
		},
		taskKey: {
			description:
				"When multiple Image API contents exist on the device, use this taskKey to specify which content to update and switch. You can retrieve it via the 'List Device Tasks' API. If omitted, the first Image API content is used.",
			type: 'string',
		},
	}}
/>

### Response Schema

<TypeTable
	type={{
		code: {
			description: 'Status code',
			type: 'number',
			required: true,
		},
		message: {
			description: 'Description',
			type: 'string',
			required: true,
		},
	}}
/>

### Status Codes

| code  | Meaning                 | Description                                                                                                                                    |
| :---- | :---------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------- |
| `200` | Success                 | Image API content switched / Data updated but content not switched                                                                             |
| `400` | Invalid parameters      | Missing or invalid device ID<br/>Invalid image format<br/>Invalid border (must be 0 or 1)<br/>Invalid dither type<br/>Invalid dither algorithm |
| `403` | Forbidden               | You do not have permission to operate this device                                                                                              |
| `404` | Not found               | Device not found or not registered<br/>Image API content not added                                                                             |
| `500` | Device response failure | Failed to switch Image API content                                                                                                             |
